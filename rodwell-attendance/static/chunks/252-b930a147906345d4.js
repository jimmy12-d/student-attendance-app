"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{2079:(e,t,r)=>{r.d(t,{A:()=>c});var a=r(2175),n=r(5155),l=r(2115),s=r(8173),o=r.n(s),i=r(6778),d=r(2781);function c(e){var{label:t,icon:r,iconSize:s,href:c,target:g,type:u,color:h="white",className:b="",asAnchor:x=!1,small:m=!1,outline:p=!1,active:w=!1,disabled:f=!1,roundedFull:k=!1,onClick:y}=e,v=(0,a._)(e,["label","icon","iconSize","href","target","type","color","className","asAnchor","small","outline","active","disabled","roundedFull","onClick"]);let j=["inline-flex","justify-center","items-center","whitespace-nowrap","focus:outline-hidden","transition-colors","focus:ring-3","duration-150","border",f?"cursor-not-allowed":"cursor-pointer",k?"rounded-full":"rounded-sm",(0,i.sG)(h,p,!f,w),b];v.isGrouped&&j.push("mr-3 last:mr-0 mb-3"),!t&&r?j.push("p-1"):m?j.push("text-sm",k?"px-3 py-1":"p-1"):j.push("py-2",k?"px-6":"px-3"),f&&j.push(p?"opacity-50":"opacity-70");let D=j.join(" "),N=(0,n.jsxs)(n.Fragment,{children:[r&&(0,n.jsx)(d.A,{path:r,size:s}),t&&(0,n.jsx)("span",{className:m&&r?"px-1":"px-2",children:t})]});return c&&!f?(0,n.jsx)(o(),{href:c,target:g,className:D,children:N}):l.createElement(x?"a":"button",{className:D,type:null!=u?u:"button",target:g,disabled:f,onClick:y},N)}},7738:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(5155);let n=e=>{let{type:t="justify-start",mb:r="-mb-3",noWrap:n=!1,children:l,className:s}=e;return(0,a.jsxs)("div",{className:"flex items-center ".concat(t," ").concat(s," ").concat(r," ").concat(n?"flex-nowrap":"flex-wrap"),children:[l," "]})}},1315:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(5155);r(2115);let n=e=>{let{title:t,children:r}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3 pl-4",children:[(0,a.jsx)("h1",{className:"text-2xl",children:t}),r]})}},6706:(e,t,r)=>{r.d(t,{A:()=>c});var a=r(5155),n=r(1063),l=r(2079),s=r(7738),o=r(4713),i=r(1315),d=r(9912);let c=e=>{let{title:t,buttonColor:r,buttonLabel:c,isActive:g,children:u,modalClassName:h="w-11/12 md:w-3/5 lg:w-2/5 xl:w-4/12",onConfirm:b,onCancel:x}=e;if(!g)return null;let m=(0,a.jsxs)(s.A,{type:"justify-end",children:[(0,a.jsx)(l.A,{label:c,color:r,onClick:b,isGrouped:!0}),!!x&&(0,a.jsx)(l.A,{label:"Cancel",color:r,outline:!0,onClick:x,isGrouped:!0})]});return(0,a.jsx)(d.A,{onClick:x,className:x?"cursor-pointer":"",children:(0,a.jsxs)(o.A,{className:"transition-transform shadow-lg max-h-modal ".concat(h," z-50"),isModal:!0,footer:m,children:[(0,a.jsx)(i.A,{title:t,children:!!x&&(0,a.jsx)(l.A,{icon:n.hyP,color:"whiteDark",onClick:x,small:!0,roundedFull:!0})}),(0,a.jsx)("div",{className:"space-y-3 pl-4",children:u})]})})}},4713:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(5155),n=r(2115);function l(e){let{noPadding:t=!1,className:r,children:n}=e;return(0,a.jsx)("div",{className:"flex-1 ".concat(t?"":"p-2"," ").concat(r),children:n})}function s(e){let{className:t,children:r}=e;return(0,a.jsx)("footer",{className:"p-6 ".concat(t),children:r})}function o(e){let{rounded:t="rounded-2xl",flex:r="flex-col",className:o="",hasComponentLayout:i=!1,hasTable:d=!1,isHoverable:c=!1,isModal:g=!1,children:u,footer:h,onClick:b}=e,x=["bg-white flex",o,t,r,g?"dark:bg-slate-900":"dark:bg-slate-900/70"];return c&&x.push("hover:shadow-lg transition-shadow duration-500"),n.createElement("div",{className:x.join(" "),onClick:b},i?u:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l,{noPadding:d,children:u}),h&&(0,a.jsx)(s,{children:h})]}))}},2781:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(5155);function n(e){let{path:t,w:r="w-6",h:n="h-6",size:l=null,className:s="",children:o}=e,i=null!=l?l:16;return(0,a.jsxs)("span",{className:"inline-flex justify-center items-center ".concat(r," ").concat(n," ").concat(s),children:[(0,a.jsx)("svg",{viewBox:"0 0 24 24",width:i,height:i,className:"inline-block",children:(0,a.jsx)("path",{fill:"currentColor",d:t})}),o]})}r(2115)},657:(e,t,r)=>{r.d(t,{A:()=>c});var a=r(2175),n=r(5155),l=r(1063),s=r(2115),o=r(6778),i=r(2079),d=r(2781);let c=e=>{var{outline:t=!1,children:r}=e,c=(0,a._)(e,["outline","children"]);let g=t?o.Fw[c.color]:o.cu[c.color],[u,h]=(0,s.useState)(!1);return u?null:(0,n.jsx)("div",{className:"px-3 py-6 md:py-3 mb-6 last:mb-0 border rounded-lg transition-colors duration-150 ".concat(g),children:(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-center mb-6 md:mb-0",children:[c.icon&&(0,n.jsx)(d.A,{path:c.icon,w:"w-10 md:w-5",h:"h-10 md:h-5",size:"24",className:"md:mr-2"}),(0,n.jsx)("span",{className:"text-center md:text-left md:py-2",children:r})]}),c.button,!c.button&&(0,n.jsx)(i.A,{icon:l.hyP,color:"white",onClick:e=>{e.preventDefault(),h(!0)},small:!0,roundedFull:!0})]})})}},9912:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(2175),n=r(5155);function l(e){var{zIndex:t="z-50",type:r="flex",children:l,className:s}=e,o=(0,a._)(e,["zIndex","type","children","className"]);return(0,n.jsxs)("div",{className:"".concat(r," ").concat(t," ").concat(s," items-center flex-col justify-center overflow-hidden fixed inset-0"),children:[(0,n.jsx)("div",{className:"overlay absolute inset-0 bg-linear-to-tr opacity-90 dark:from-gray-700 dark:via-gray-900 dark:to-gray-700",onClick:e=>{e.preventDefault(),o.onClick&&o.onClick(e)}}),l]})}r(2115)},5632:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(5155);r(2115);var n=r(9732);function l(e){let{children:t}=e;return(0,a.jsx)("section",{className:"bg-gray-100 dark:bg-gray-800 p-6 ".concat(n.Fx),children:t})}},198:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(5155);r(2115);var n=r(2781),l=r(6778);function s(e){let{icon:t,color:r,w:s="w-12",h:o="h-12",bg:i=!1,className:d=""}=e,c=i?l.cu[r]:"".concat(l.Wj[r]," bg-gray-50 dark:bg-slate-800");return(0,a.jsx)(n.A,{path:t,w:s,h:o,size:"24",className:"rounded-full ".concat(c," ").concat(d)})}function o(e){let{icon:t,title:r,main:l=!1,children:o}=e;return(0,a.jsxs)("section",{className:"".concat(l?"":"pt-6"," mb-6 flex items-center justify-between"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-start",children:[t&&l&&(0,a.jsx)(s,{icon:t,color:"light",className:"mr-3",bg:!0}),t&&!l&&(0,a.jsx)(n.A,{path:t,className:"mr-2",size:"20"}),(0,a.jsx)("h1",{className:"leading-tight ".concat(l?"text-3xl":"text-2xl"),children:r})]}),o]})}},6778:(e,t,r)=>{r.d(t,{Fw:()=>d,Wj:()=>i,an:()=>l,cu:()=>o,mc:()=>n,sG:()=>c,xY:()=>s});let a="bg-linear-to-tr",n="".concat(a," from-purple-400 via-pink-500 to-red-500"),l="".concat(a," from-slate-700 via-slate-900 to-slate-800"),s="".concat(a," from-pink-400 via-red-500 to-yellow-500"),o={white:"bg-white text-black",light:"bg-white text-black dark:bg-slate-900/70 dark:text-white",contrast:"bg-gray-800 text-white dark:bg-white dark:text-black",success:"bg-emerald-500 border-emerald-500 text-white",danger:"bg-red-500 border-red-500 text-white",warning:"bg-yellow-500 border-yellow-500 text-white",info:"bg-blue-500 border-blue-500 text-white"},i={white:"text-black dark:text-slate-100",light:"text-gray-700 dark:text-slate-400",contrast:"dark:text-white",success:"text-emerald-500",danger:"text-red-500",warning:"text-yellow-500",info:"text-blue-500"},d={white:[i.white,"border-gray-100"].join(" "),light:[i.light,"border-gray-100"].join(" "),contrast:[i.contrast,"border-gray-900 dark:border-slate-100"].join(" "),success:[i.success,"border-emerald-500"].join(" "),danger:[i.danger,"border-red-500"].join(" "),warning:[i.warning,"border-yellow-500"].join(" "),info:[i.info,"border-blue-500"].join(" ")},c=function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("void"===e)return"";let n={ring:{white:"ring-gray-200 dark:ring-gray-500",whiteDark:"ring-gray-200 dark:ring-gray-500",lightDark:"ring-gray-200 dark:ring-gray-500",contrast:"ring-gray-300 dark:ring-gray-400",success:"ring-emerald-300 dark:ring-emerald-700",danger:"ring-red-300 dark:ring-red-700",warning:"ring-yellow-300 dark:ring-yellow-700",info:"ring-blue-300 dark:ring-blue-700"},active:{white:"bg-gray-100",whiteDark:"bg-gray-100 dark:bg-slate-800",lightDark:"bg-gray-200 dark:bg-slate-700",contrast:"bg-gray-700 dark:bg-slate-100",success:"bg-emerald-700 dark:bg-emerald-600",danger:"bg-red-700 dark:bg-red-600",warning:"bg-yellow-700 dark:bg-yellow-600",info:"bg-blue-700 dark:bg-blue-600"},bg:{white:"bg-white text-black",whiteDark:"bg-white text-black dark:bg-slate-900 dark:text-white",lightDark:"bg-gray-100 text-black dark:bg-slate-800 dark:text-white",contrast:"bg-gray-800 text-white dark:bg-white dark:text-black",success:"bg-emerald-600 dark:bg-emerald-500 text-white",danger:"bg-red-600 dark:bg-red-500 text-white",warning:"bg-yellow-600 dark:bg-yellow-500 text-white",info:"bg-blue-600 dark:bg-blue-500 text-white"},bgHover:{white:"hover:bg-gray-100",whiteDark:"hover:bg-gray-100 dark:hover:bg-slate-800",lightDark:"hover:bg-gray-200 dark:hover:bg-slate-700",contrast:"hover:bg-gray-700 dark:hover:bg-slate-100",success:"hover:bg-emerald-700 hover:border-emerald-700 dark:hover:bg-emerald-600 dark:hover:border-emerald-600",danger:"hover:bg-red-700 hover:border-red-700 dark:hover:bg-red-600 dark:hover:border-red-600",warning:"hover:bg-yellow-700 hover:border-yellow-700 dark:hover:bg-yellow-600 dark:hover:border-yellow-600",info:"hover:bg-blue-700 hover:border-blue-700 dark:hover:bg-blue-600 dark:hover:border-blue-600"},borders:{white:"border-white",whiteDark:"border-white dark:border-slate-900",lightDark:"border-gray-100 dark:border-slate-800",contrast:"border-gray-800 dark:border-white",success:"border-emerald-600 dark:border-emerald-500",danger:"border-red-600 dark:border-red-500",warning:"border-yellow-600 dark:border-yellow-500",info:"border-blue-600 dark:border-blue-500"},text:{contrast:"dark:text-slate-100",success:"text-emerald-600 dark:text-emerald-500",danger:"text-red-600 dark:text-red-500",warning:"text-yellow-600 dark:text-yellow-500",info:"text-blue-600 dark:text-blue-500"},outlineHover:{contrast:"hover:bg-gray-800 hover:text-gray-100 dark:hover:bg-slate-100 dark:hover:text-black",success:"hover:bg-emerald-600 hover:text-white hover:text-white dark:hover:text-white dark:hover:border-emerald-600",danger:"hover:bg-red-600 hover:text-white hover:text-white dark:hover:text-white dark:hover:border-red-600",warning:"hover:bg-yellow-600 hover:text-white hover:text-white dark:hover:text-white dark:hover:border-yellow-600",info:"hover:bg-blue-600 hover:text-white dark:hover:text-white dark:hover:border-blue-600"}},l=t&&0>["white","whiteDark","lightDark"].indexOf(e),s=[n.borders[e],n.ring[e]];return a?s.push(n.active[e]):s.push(l?n.text[e]:n.bg[e]),r&&s.push(l?n.outlineHover[e]:n.bgHover[e]),s.join(" ")}},9732:(e,t,r)=>{r.d(t,{Fx:()=>a,wS:()=>n});let a="xl:max-w-6xl xl:mx-auto",n=e=>"".concat(e," — ").concat("Rodwell Attendance")},9496:(e,t,r)=>{r.d(t,{A:()=>u});var a=r(5155),n=r(2115),l=r(7058),s=r(6706),o=r(9532),i=r(8449),d=r(2079),c=r(1063);let g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],u=e=>{let{student:t,attendanceRecords:r,allClassConfigs:u,approvedPermissions:h,isActive:b,onClose:x,initialMonthValue:m}=e,[p,w]=(0,n.useState)([]),[f,k]=(0,n.useState)(!0),[y,v]=(0,n.useState)(m||(0,i.AZ)()),j=e=>{let[r,a]=y.split("-"),n=parseInt(r),s=parseInt(a)-1;"prev"===e?--s<0&&(s=11,n--):++s>11&&(s=0,n++);let o=new Date(n,s,1),i=new Date;if(!(o>new Date(i.getFullYear(),i.getMonth(),1))){if(t.createdAt){let e=t.createdAt instanceof l.Dc?t.createdAt.toDate():t.createdAt;if(o<new Date(e.getFullYear(),e.getMonth(),1))return}v("".concat(n,"-").concat(String(s+1).padStart(2,"0")))}};(0,n.useEffect)(()=>{if(!b||!t||!u||!y){w([]),b&&k(!1);return}k(!0);let[e,a]=y.split("-"),n=parseInt(e),l=parseInt(a)-1,s=new Date;s.setHours(0,0,0,0);let i=new Map;r.filter(e=>{var t;return null===(t=e.date)||void 0===t?void 0:t.startsWith(y)}).forEach(e=>i.set(e.date,e));let d=new Date(n,l,1).getDay(),c=new Date(n,l+1,0).getDate(),g=[],x=[],m=1;for(let e=0;e<d;e++)x.push({dayOfMonth:null});for(;m<=c;){7===x.length&&(g.push(x),x=[]);let e=new Date(n,l,m);e.setHours(0,0,0,0);let r="".concat(n,"-").concat(String(l+1).padStart(2,"0"),"-").concat(String(m).padStart(2,"0")),a=i.get(r),d=(0,o.tE)(t,r,a,u,h),c={dayOfMonth:m,fullDateStr:r,isToday:e.getTime()===s.getTime(),isPast:e<s,status:d.status,time:d.time,isSchoolDayCell:!["Not Applicable (Holiday/Weekend)","Not Yet Enrolled","No School"].includes(d.status||"")};x.push(c),m++}for(;x.length>0&&x.length<7;)x.push({dayOfMonth:null});x.length>0&&g.push(x),w(g),k(!1)},[b,t,r,u,h,y]);let D=e=>{switch(e){case"Present":return"bg-green-200 text-green-800";case"Late":return"bg-yellow-200 text-yellow-800";case"Absent":return"bg-red-200 text-red-800";case"Permission":return"bg-purple-200 text-purple-800";case"Pending":return"bg-blue-100 text-blue-700";case"Absent (Config Missing)":return"bg-orange-100 text-orange-700";case"Not Applicable (Holiday/Weekend)":return"text-gray-400";case"Not Yet Enrolled":return"text-gray-400 dark:text-slate-500";case"Unknown":return"bg-gray-200 text-gray-700 dark:bg-gray-600 dark:text-gray-200";default:return"text-transparent"}},N=(0,n.useMemo)(()=>{if(y){let[e,t]=y.split("-");if(e&&t)return new Date(parseInt(e),parseInt(t)-1,1).toLocaleString("default",{month:"long",year:"numeric"})}return"Details"},[y]),{isPrevDisabled:A,isNextDisabled:S}=(0,n.useMemo)(()=>{let e=new Date,r=e.getFullYear(),a=e.getMonth(),[n,s]=y.split("-").map(Number),o=s-1,i=!1;if(t.createdAt){let e=t.createdAt instanceof l.Dc?t.createdAt.toDate():t.createdAt,r=e.getFullYear(),a=e.getMonth();(n<r||n===r&&o<=a)&&(i=!0)}else n<r-2&&(i=!0);return{isPrevDisabled:i,isNextDisabled:n>r||n===r&&o>=a}},[y,t.createdAt]);return(0,a.jsxs)(s.A,{title:"Attendance: ".concat(t.fullName),isActive:b,onConfirm:x,buttonLabel:"Close",buttonColor:"info",modalClassName:"w-11/12 md:w-4/5 lg:w-3/5 xl:max-w-4xl",children:[(0,a.jsxs)("div",{className:"mb-4 flex justify-between items-center px-2 sm:px-4 py-2 border-b dark:border-slate-700",children:[(0,a.jsx)(d.A,{icon:c.LyG,onClick:()=>j("prev"),small:!0,outline:!0,color:"lightDark","aria-label":"Previous Month",disabled:A}),(0,a.jsx)("h3",{className:"text-md sm:text-lg font-semibold text-gray-700 dark:text-gray-200",children:N}),(0,a.jsx)(d.A,{icon:c.mI8,onClick:()=>j("next"),small:!0,outline:!0,color:"lightDark","aria-label":"Next Month",disabled:S})]}),f?(0,a.jsx)("p",{className:"p-4 text-center",children:"Loading details..."}):0===p.length?(0,a.jsx)("p",{className:"p-4 text-center",children:"No attendance details to display."}):(0,a.jsx)("div",{className:"text-sm p-1 md:p-2",children:(0,a.jsxs)("table",{className:"w-full table-fixed border-collapse text-center",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:g.map(e=>(0,a.jsx)("th",{className:"py-2 px-1 border dark:border-slate-700 font-semibold text-xs text-center",children:e},e))})}),(0,a.jsx)("tbody",{children:p.map((e,t)=>(0,a.jsx)("tr",{children:e.map((e,t)=>(0,a.jsx)("td",{className:"py-1 px-1 border dark:border-slate-700 h-16 md:h-20 relative align-top text-left transition-colors duration-150 ease-in-out\n                      ".concat(e.isToday?"bg-sky-100 dark:bg-sky-700/60":!e.isSchoolDayCell&&e.dayOfMonth?"bg-gray-100 dark:bg-slate-800 opacity-70":e.dayOfMonth&&e.isPast?"bg-white dark:bg-slate-700/50":e.dayOfMonth&&!e.isPast?"bg-slate-50 dark:bg-slate-800/80":"bg-gray-50 dark:bg-slate-900"),children:e.dayOfMonth&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute top-1 left-1 text-s p-0.5 \n                            ".concat(e.isToday?"font-bold text-sky-600 dark:text-sky-200":e.isPast||e.status?"text-gray-800 dark:text-gray-100 font-medium":"text-gray-400 dark:text-slate-500"),children:e.dayOfMonth}),(0,a.jsxs)("div",{className:"absolute inset-0 top-5 md:top-6 flex flex-col items-center justify-start pt-1 px-0.5 text-center",children:[e.status&&["Present","Late","Absent","Pending","Permission","Absent (Config Missing)","Unknown"].includes(e.status)&&(0,a.jsx)("span",{className:"px-1.5 py-0.5 text-xs sm:text-xs rounded-full leading-tight whitespace-nowrap font-semibold ".concat(D(e.status)),children:"Absent (Config Missing)"===e.status?"Absent*":e.status}),("Present"===e.status||"Late"===e.status)&&e.time&&(0,a.jsx)("span",{className:"block text-xxs mt-0.5 pt-1 leading-tight ".concat(e.isToday?"text-sky-700 dark:text-sky-200":"text-gray-500 dark:text-gray-400"),children:e.time?"(".concat(e.time,")"):""}),("Not Applicable (Holiday/Weekend)"===e.status||"Not Yet Enrolled"===e.status)&&(0,a.jsx)("span",{className:"text-xxs leading-tight opacity-70 ".concat(D(e.status)," ").concat(e.isToday?"font-medium":""),children:"Not Applicable (Holiday/Weekend)"===e.status?"Non-School":"Not Enrolled"})]})]})},t))},t))})]})})]})}},9532:(e,t,r)=>{r.d(t,{AK:()=>d,as:()=>s,rM:()=>i,tE:()=>o,zV:()=>c});var a=r(7058),n=r(8449);let l=(e,t)=>{let r=e.getDay(),a="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"));return!n.sU.has(a)&&(t&&t.length>0?t.includes(r):0!==r)},s=(e,t)=>{let r,a;let n=new Date;if(e===n.getFullYear()&&t===n.getMonth())r=n.getDate(),a="".concat(e,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(n.getDate()).padStart(2,"0"));else{let n=new Date(e,t+1,0).getDate();r=n,a="".concat(e,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(n).padStart(2,"0"))}let l="".concat(e,"-").concat(String(t+1).padStart(2,"0"),"-01");return{year:e,month:t,monthStartDateString:l,monthEndDateStringUsedForQuery:a,daysInMonthToConsider:r}},o=(e,t,r,s,o)=>{let i=new Date(t);i.setHours(0,0,0,0);let d=new Date;d.setHours(0,0,0,0);let c=e.createdAt instanceof a.Dc?e.createdAt.toDate():e.createdAt instanceof Date?e.createdAt:null;c&&c.setHours(0,0,0,0);let g=e.class,u=g&&s?s[g]:void 0,h=null==u?void 0:u.studyDays;if(c&&i<=c)return{status:"Not Yet Enrolled"};if(!l(i,h))return{status:"No School"};if(r){let e;let t="present"===r.status?"Present":"late"===r.status?"Late":"Unknown";return r.timestamp&&(e=(r.timestamp instanceof a.Dc?r.timestamp.toDate():r.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})),{status:t,time:e}}if(o&&o.some(e=>t>=e.permissionStartDate&&t<=e.permissionEndDate))return{status:"Permission"};if(i.getTime()===d.getTime()){let t=e.shift,r=g&&(null==u?void 0:u.shifts)?u.shifts[t]:void 0;if(!r||!r.startTime)return{status:"Absent (Config Missing)"};{var b;let[t,a]=r.startTime.split(":").map(Number),l=new Date(d);l.setHours(t,a);let s=null!==(b=e.gracePeriodMinutes)&&void 0!==b?b:n.Lj,o=new Date(l);o.setMinutes(l.getMinutes()+s);let i=new Date(o);return(i.setMinutes(o.getMinutes()+n.l0),new Date>i)?{status:"Absent"}:{status:"Pending"}}}return i<d?{status:"Absent"}:{status:void 0}},i=function(e,t,r,a){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:7,l=0,s=new Date;s.setHours(0,0,0,0);let i=new Map(t.map(e=>[e.date,e]));for(let t=0;t<n;t++){let n=new Date(s);n.setDate(s.getDate()-t);let d="".concat(n.getFullYear(),"-").concat(String(n.getMonth()+1).padStart(2,"0"),"-").concat(String(n.getDate()).padStart(2,"0")),c=i.get(d),g=o(e,d,c,r,a);if("Absent"===g.status)l++;else if("Present"===g.status||"Late"===g.status||"Permission"===g.status)break}return{count:l,details:"".concat(l," consecutive day absences")}},d=(e,t,r,a,n)=>{let[l,i]=r.split("-").map(Number).map((e,t)=>1===t?e-1:e),{daysInMonthToConsider:d}=s(l,i),c=new Date(l,i).toLocaleString("default",{month:"long",year:"numeric"}),g=0,u=new Map(t.map(e=>[e.date,e]));for(let t=1;t<=d;t++){let r="".concat(l,"-").concat(String(i+1).padStart(2,"0"),"-").concat(String(t).padStart(2,"0")),s=u.get(r);"Absent"===o(e,r,s,a,n).status&&g++}return{count:g,details:"".concat(g," absences in ").concat(c)}},c=(e,t,r)=>{let a=new Date(parseInt(r.split("-")[0]),parseInt(r.split("-")[1])-1).toLocaleString("default",{month:"long",year:"numeric"}),n=0;return t.forEach(e=>{"late"===e.status&&n++}),{count:n,details:"".concat(n," lates in ").concat(a)}}},8449:(e,t,r)=>{r.d(t,{AZ:()=>s,Lj:()=>a,l0:()=>n,sU:()=>l});let a=15,n=60,l=new Set(["2025-01-01","2025-01-07","2025-03-08","2025-05-01","2025-05-14","2025-05-15","2025-05-16","2025-06-18","2025-09-24","2025-10-07","2025-10-08","2025-10-09","2025-10-15","2025-10-29","2025-11-09","2025-11-20","2025-11-21","2025-11-22"]),s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0");return"".concat(t,"-").concat(r)}},5111:(e,t,r)=>{r.d(t,{db:()=>o,j:()=>i});var a=r(9904),n=r(7058),l=r(4565);let s=(0,a.Wp)({apiKey:"AIzaSyBlUIZfsrgVvfw4fL2poyITh0bfM9Iumag",authDomain:"rodwell-attendance.firebaseapp.com",projectId:"rodwell-attendance",storageBucket:"rodwell-attendance.firebasestorage.app",messagingSenderId:"50079853705",appId:"1:50079853705:web:5e9d3dcb42b4d0d874aa58"}),o=(0,n.aU)(s),i=(0,l.xI)(s)}}]);