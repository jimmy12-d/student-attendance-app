(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[384],{6201:(e,r,t)=>{Promise.resolve().then(t.bind(t,165))},2079:(e,r,t)=>{"use strict";t.d(r,{A:()=>c});var a=t(2175),l=t(5155),s=t(2115),o=t(8173),i=t.n(o),n=t(6778),d=t(2781);function c(e){var{label:r,icon:t,iconSize:o,href:c,target:h,type:b,color:g="white",className:u="",asAnchor:x=!1,small:m=!1,outline:w=!1,active:p=!1,disabled:k=!1,roundedFull:v=!1,onClick:y}=e,f=(0,a._)(e,["label","icon","iconSize","href","target","type","color","className","asAnchor","small","outline","active","disabled","roundedFull","onClick"]);let j=["inline-flex","justify-center","items-center","whitespace-nowrap","focus:outline-hidden","transition-colors","focus:ring-3","duration-150","border",k?"cursor-not-allowed":"cursor-pointer",v?"rounded-full":"rounded-sm",(0,n.sG)(g,w,!k,p),u];f.isGrouped&&j.push("mr-3 last:mr-0 mb-3"),!r&&t?j.push("p-1"):m?j.push("text-sm",v?"px-3 py-1":"p-1"):j.push("py-2",v?"px-6":"px-3"),k&&j.push(w?"opacity-50":"opacity-70");let N=j.join(" "),D=(0,l.jsxs)(l.Fragment,{children:[t&&(0,l.jsx)(d.A,{path:t,size:o}),r&&(0,l.jsx)("span",{className:m&&t?"px-1":"px-2",children:r})]});return c&&!k?(0,l.jsx)(i(),{href:c,target:h,className:N,children:D}):s.createElement(x?"a":"button",{className:N,type:null!=b?b:"button",target:h,disabled:k,onClick:y},D)}},7738:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(5155);let l=e=>{let{type:r="justify-start",mb:t="-mb-3",noWrap:l=!1,children:s,className:o}=e;return(0,a.jsxs)("div",{className:"flex items-center ".concat(r," ").concat(o," ").concat(t," ").concat(l?"flex-nowrap":"flex-wrap"),children:[s," "]})}},7317:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(5155);function l(e){let{navBar:r=!1}=e;return(0,a.jsx)("hr",{className:"".concat(r?"hidden lg:block lg:my-0.5 dark:border-slate-700":"my-6 -mx-6 dark:border-slate-800"," border-t border-gray-100")})}t(2115)},3061:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var a=t(2175),l=t(5155),s=t(2781);let o=e=>{var r,{htmlFor:t,children:s}=e,o=(0,a._)(e,["htmlFor","children"]);return(0,l.jsx)("label",{htmlFor:t,className:"block mb-2 font-semibold ".concat(t?"cursor-pointer":""," ").concat(null!==(r=o.className)&&void 0!==r?r:""),children:(0,l.jsx)("span",{className:"line-clamp-1",children:s})})},i=e=>{var{children:r}=e,t=(0,a._)(e,["children"]);let i={className:["px-3 py-2 max-w-full border-gray-700 rounded-sm w-full dark:placeholder-gray-400","focus:ring-3 focus:ring-blue-600 focus:border-blue-600 focus:outline-hidden",t.hasTextareaHeight?"h-24":"h-12",t.isBorderless?"border-0":"border",t.isTransparent?"bg-transparent":"bg-white dark:bg-slate-800",t.icon?"pl-10":""].join(" ")};return(0,l.jsxs)("div",{className:"mb-2 last:mb-0",children:[t.label&&(0,l.jsx)(o,{htmlFor:t.labelFor,children:t.label}),(0,l.jsxs)("div",{className:"relative",children:[r(i),t.icon&&(0,l.jsx)(s.A,{path:t.icon,w:"w-10",h:t.hasTextareaHeight?"h-full":"h-12",className:"absolute top-0 left-0 z-10 pointer-events-none text-gray-500 dark:text-slate-400"})]}),t.help&&(0,l.jsx)("div",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:t.help})]})}},2781:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(5155);function l(e){let{path:r,w:t="w-6",h:l="h-6",size:s=null,className:o="",children:i}=e,n=null!=s?s:16;return(0,a.jsxs)("span",{className:"inline-flex justify-center items-center ".concat(t," ").concat(l," ").concat(o),children:[(0,a.jsx)("svg",{viewBox:"0 0 24 24",width:n,height:n,className:"inline-block",children:(0,a.jsx)("path",{fill:"currentColor",d:r})}),i]})}t(2115)},657:(e,r,t)=>{"use strict";t.d(r,{A:()=>c});var a=t(2175),l=t(5155),s=t(1063),o=t(2115),i=t(6778),n=t(2079),d=t(2781);let c=e=>{var{outline:r=!1,children:t}=e,c=(0,a._)(e,["outline","children"]);let h=r?i.Fw[c.color]:i.cu[c.color],[b,g]=(0,o.useState)(!1);return b?null:(0,l.jsx)("div",{className:"px-3 py-6 md:py-3 mb-6 last:mb-0 border rounded-lg transition-colors duration-150 ".concat(h),children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-center mb-6 md:mb-0",children:[c.icon&&(0,l.jsx)(d.A,{path:c.icon,w:"w-10 md:w-5",h:"h-10 md:h-5",size:"24",className:"md:mr-2"}),(0,l.jsx)("span",{className:"text-center md:text-left md:py-2",children:t})]}),c.button,!c.button&&(0,l.jsx)(n.A,{icon:s.hyP,color:"white",onClick:e=>{e.preventDefault(),g(!0)},small:!0,roundedFull:!0})]})})}},6778:(e,r,t)=>{"use strict";t.d(r,{Fw:()=>d,Wj:()=>n,an:()=>s,cu:()=>i,mc:()=>l,sG:()=>c,xY:()=>o});let a="bg-linear-to-tr",l="".concat(a," from-purple-400 via-pink-500 to-red-500"),s="".concat(a," from-slate-700 via-slate-900 to-slate-800"),o="".concat(a," from-pink-400 via-red-500 to-yellow-500"),i={white:"bg-white text-black",light:"bg-white text-black dark:bg-slate-900/70 dark:text-white",contrast:"bg-gray-800 text-white dark:bg-white dark:text-black",success:"bg-emerald-500 border-emerald-500 text-white",danger:"bg-red-500 border-red-500 text-white",warning:"bg-yellow-500 border-yellow-500 text-white",info:"bg-blue-500 border-blue-500 text-white"},n={white:"text-black dark:text-slate-100",light:"text-gray-700 dark:text-slate-400",contrast:"dark:text-white",success:"text-emerald-500",danger:"text-red-500",warning:"text-yellow-500",info:"text-blue-500"},d={white:[n.white,"border-gray-100"].join(" "),light:[n.light,"border-gray-100"].join(" "),contrast:[n.contrast,"border-gray-900 dark:border-slate-100"].join(" "),success:[n.success,"border-emerald-500"].join(" "),danger:[n.danger,"border-red-500"].join(" "),warning:[n.warning,"border-yellow-500"].join(" "),info:[n.info,"border-blue-500"].join(" ")},c=function(e,r,t){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("void"===e)return"";let l={ring:{white:"ring-gray-200 dark:ring-gray-500",whiteDark:"ring-gray-200 dark:ring-gray-500",lightDark:"ring-gray-200 dark:ring-gray-500",contrast:"ring-gray-300 dark:ring-gray-400",success:"ring-emerald-300 dark:ring-emerald-700",danger:"ring-red-300 dark:ring-red-700",warning:"ring-yellow-300 dark:ring-yellow-700",info:"ring-blue-300 dark:ring-blue-700"},active:{white:"bg-gray-100",whiteDark:"bg-gray-100 dark:bg-slate-800",lightDark:"bg-gray-200 dark:bg-slate-700",contrast:"bg-gray-700 dark:bg-slate-100",success:"bg-emerald-700 dark:bg-emerald-600",danger:"bg-red-700 dark:bg-red-600",warning:"bg-yellow-700 dark:bg-yellow-600",info:"bg-blue-700 dark:bg-blue-600"},bg:{white:"bg-white text-black",whiteDark:"bg-white text-black dark:bg-slate-900 dark:text-white",lightDark:"bg-gray-100 text-black dark:bg-slate-800 dark:text-white",contrast:"bg-gray-800 text-white dark:bg-white dark:text-black",success:"bg-emerald-600 dark:bg-emerald-500 text-white",danger:"bg-red-600 dark:bg-red-500 text-white",warning:"bg-yellow-600 dark:bg-yellow-500 text-white",info:"bg-blue-600 dark:bg-blue-500 text-white"},bgHover:{white:"hover:bg-gray-100",whiteDark:"hover:bg-gray-100 dark:hover:bg-slate-800",lightDark:"hover:bg-gray-200 dark:hover:bg-slate-700",contrast:"hover:bg-gray-700 dark:hover:bg-slate-100",success:"hover:bg-emerald-700 hover:border-emerald-700 dark:hover:bg-emerald-600 dark:hover:border-emerald-600",danger:"hover:bg-red-700 hover:border-red-700 dark:hover:bg-red-600 dark:hover:border-red-600",warning:"hover:bg-yellow-700 hover:border-yellow-700 dark:hover:bg-yellow-600 dark:hover:border-yellow-600",info:"hover:bg-blue-700 hover:border-blue-700 dark:hover:bg-blue-600 dark:hover:border-blue-600"},borders:{white:"border-white",whiteDark:"border-white dark:border-slate-900",lightDark:"border-gray-100 dark:border-slate-800",contrast:"border-gray-800 dark:border-white",success:"border-emerald-600 dark:border-emerald-500",danger:"border-red-600 dark:border-red-500",warning:"border-yellow-600 dark:border-yellow-500",info:"border-blue-600 dark:border-blue-500"},text:{contrast:"dark:text-slate-100",success:"text-emerald-600 dark:text-emerald-500",danger:"text-red-600 dark:text-red-500",warning:"text-yellow-600 dark:text-yellow-500",info:"text-blue-600 dark:text-blue-500"},outlineHover:{contrast:"hover:bg-gray-800 hover:text-gray-100 dark:hover:bg-slate-100 dark:hover:text-black",success:"hover:bg-emerald-600 hover:text-white hover:text-white dark:hover:text-white dark:hover:border-emerald-600",danger:"hover:bg-red-600 hover:text-white hover:text-white dark:hover:text-white dark:hover:border-red-600",warning:"hover:bg-yellow-600 hover:text-white hover:text-white dark:hover:text-white dark:hover:border-yellow-600",info:"hover:bg-blue-600 hover:text-white dark:hover:text-white dark:hover:border-blue-600"}},s=r&&0>["white","whiteDark","lightDark"].indexOf(e),o=[l.borders[e],l.ring[e]];return a?o.push(l.active[e]):o.push(s?l.text[e]:l.bg[e]),t&&o.push(s?l.outlineHover[e]:l.bgHover[e]),o.join(" ")}},165:(e,r,t)=>{"use strict";t.d(r,{default:()=>g});var a=t(5155),l=t(2115),s=t(5111),o=t(7058),i=t(3061),n=t(2079),d=t(7738),c=t(7317),h=t(657);let b=e=>e.trim().split(/\s+/).filter(e=>e.length>0).length,g=()=>{let[e,r]=(0,l.useState)(""),[t,g]=(0,l.useState)(""),[u,x]=(0,l.useState)(1),[m,w]=(0,l.useState)("Sickness"),[p,k]=(0,l.useState)(""),[v,y]=(0,l.useState)(!1),[f,j]=(0,l.useState)(null),N=async a=>{if(a.preventDefault(),j(null),!e||!t||u<1||!m){j({type:"error",text:"Please fill out your name, start date, duration, and reason."});return}if(10>b(p)){j({type:"error",text:"Please provide at least 10 words in the details field."});return}y(!0);try{let a=(0,o.rJ)(s.db,"students"),l=(0,o.P)(a,(0,o._M)("fullName","==",e.trim()),(0,o.AB)(1)),i=await (0,o.GG)(l);if(i.empty){j({type:"error",text:'Student with name "'.concat(e.trim(),'" not found. Please check spelling and capitalization.')}),y(!1);return}let n=i.docs[0],d=n.data(),c=new Date(t);c.setMinutes(c.getMinutes()+c.getTimezoneOffset());let h=new Date(c);h.setDate(c.getDate()+(u-1));let b="".concat(h.getFullYear(),"-").concat(String(h.getMonth()+1).padStart(2,"0"),"-").concat(String(h.getDate()).padStart(2,"0"));await (0,o.gS)((0,o.rJ)(s.db,"permissions"),{studentId:n.id,studentName:d.fullName,class:d.class,shift:d.shift,permissionStartDate:t,permissionEndDate:b,reason:m,details:p,status:"pending",requestDate:(0,o.O5)()}),j({type:"success",text:"Your permission request has been submitted successfully! It is now pending review."}),r(""),g(""),x(1),w("Sickness"),k("")}catch(e){console.error("Error submitting permission request:",e),j({type:"error",text:"An error occurred. Please try again."})}finally{y(!1)}};return(0,a.jsxs)("form",{onSubmit:N,className:"flex flex-col gap-6",children:[f&&(0,a.jsx)(h.A,{color:"success"===f.type?"success":"error"===f.type?"danger":"info",children:f.text}),(0,a.jsx)(i.A,{label:"Your Full Name (as registered)",help:"Please enter your full name exactly as it appears in school records.",labelFor:"fullName",children:t=>(0,a.jsx)("input",{type:"text",id:"fullName",value:e,onChange:e=>r(e.target.value),className:t.className,required:!0})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsx)(i.A,{label:"Permission Start Date",labelFor:"startDate",children:e=>(0,a.jsx)("input",{type:"date",id:"startDate",value:t,onChange:e=>g(e.target.value),className:e.className,required:!0})}),(0,a.jsx)(i.A,{label:"Duration (in days)",labelFor:"duration",children:e=>(0,a.jsx)("input",{type:"number",id:"duration",value:u,onChange:e=>x(Math.max(1,parseInt(e.target.value)||1)),className:e.className,min:"1",required:!0})})]}),(0,a.jsx)(i.A,{label:"Reason for Leave",labelFor:"reasonSelect",children:e=>(0,a.jsxs)("select",{id:"reasonSelect",value:m,onChange:e=>w(e.target.value),className:e.className,required:!0,children:[(0,a.jsx)("option",{value:"Sickness",children:"Sickness"}),(0,a.jsx)("option",{value:"Family Event",children:"Family Event"}),(0,a.jsx)("option",{value:"Vacation",children:"Vacation"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})}),(0,a.jsx)(i.A,{label:"Details",help:"Please provide at least 10 words explaining your request.",labelFor:"detailsText",children:e=>(0,a.jsx)("textarea",{id:"detailsText",value:p,onChange:e=>k(e.target.value),className:e.className,rows:4,required:!0})}),(0,a.jsx)(c.A,{}),(0,a.jsx)(d.A,{children:(0,a.jsx)(n.A,{type:"submit",color:"info",label:v?"Submitting...":"Submit Request",disabled:v})})]})}},5111:(e,r,t)=>{"use strict";t.d(r,{db:()=>i,j:()=>n});var a=t(9904),l=t(7058),s=t(4565);let o=(0,a.Wp)({apiKey:"AIzaSyBlUIZfsrgVvfw4fL2poyITh0bfM9Iumag",authDomain:"rodwell-attendance.firebaseapp.com",projectId:"rodwell-attendance",storageBucket:"rodwell-attendance.firebasestorage.app",messagingSenderId:"50079853705",appId:"1:50079853705:web:5e9d3dcb42b4d0d874aa58"}),i=(0,l.aU)(o),n=(0,s.xI)(o)}},e=>{var r=r=>e(e.s=r);e.O(0,[779,992,965,861,173,441,517,358],()=>r(6201)),_N_E=e.O()}]);