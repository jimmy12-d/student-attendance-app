(()=>{var e={};e.id=384,e.ids=[384],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},14985:e=>{"use strict";e.exports=require("dns")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},73496:e=>{"use strict";e.exports=require("http2")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},19771:e=>{"use strict";e.exports=require("process")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},77961:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>h,tree:()=>d});var a=t(70260),s=t(28203),l=t(25155),i=t.n(l),n=t(67292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(r,o);let d=["",{children:["request-permission",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,98384)),"/Users/jimmy/datta-able-free-react-admin-template/student-attendance-app/app/request-permission/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,19611)),"/Users/jimmy/datta-able-free-react-admin-template/student-attendance-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"]}],u=["/Users/jimmy/datta-able-free-react-admin-template/student-attendance-app/app/request-permission/page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/request-permission/page",pathname:"/request-permission",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},63639:(e,r,t)=>{Promise.resolve().then(t.bind(t,19817))},91663:(e,r,t)=>{Promise.resolve().then(t.bind(t,85597))},32856:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var a=t(45512);function s({navBar:e=!1}){return(0,a.jsx)("hr",{className:`${e?"hidden lg:block lg:my-0.5 dark:border-slate-700":"my-6 -mx-6 dark:border-slate-800"} border-t border-gray-100`})}t(58009)},15660:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var a=t(45512),s=t(83877);let l=({htmlFor:e,children:r,...t})=>(0,a.jsx)("label",{htmlFor:e,className:`block mb-2 font-semibold ${e?"cursor-pointer":""} ${t.className??""}`,children:(0,a.jsx)("span",{className:"line-clamp-1",children:r})}),i=({children:e,...r})=>{let t={className:["px-3 py-2 max-w-full border-gray-700 rounded-sm w-full dark:placeholder-gray-400","focus:ring-3 focus:ring-blue-600 focus:border-blue-600 focus:outline-hidden",r.hasTextareaHeight?"h-24":"h-12",r.isBorderless?"border-0":"border",r.isTransparent?"bg-transparent":"bg-white dark:bg-slate-800",r.icon?"pl-10":""].join(" ")};return(0,a.jsxs)("div",{className:"mb-2 last:mb-0",children:[r.label&&(0,a.jsx)(l,{htmlFor:r.labelFor,children:r.label}),(0,a.jsxs)("div",{className:"relative",children:[e(t),r.icon&&(0,a.jsx)(s.A,{path:r.icon,w:"w-10",h:r.hasTextareaHeight?"h-full":"h-12",className:"absolute top-0 left-0 z-10 pointer-events-none text-gray-500 dark:text-slate-400"})]}),r.help&&(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:r.help})]})}},66055:(e,r,t)=>{"use strict";t.d(r,{A:()=>d});var a=t(45512),s=t(12113),l=t(58009),i=t(37954),n=t(33883),o=t(83877);let d=({outline:e=!1,children:r,...t})=>{let d=e?i.Fw[t.color]:i.cu[t.color],[u,c]=(0,l.useState)(!1);return u?null:(0,a.jsx)("div",{className:`px-3 py-6 md:py-3 mb-6 last:mb-0 border rounded-lg transition-colors duration-150 ${d}`,children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center mb-6 md:mb-0",children:[t.icon&&(0,a.jsx)(o.A,{path:t.icon,w:"w-10 md:w-5",h:"h-10 md:h-5",size:"24",className:"md:mr-2"}),(0,a.jsx)("span",{className:"text-center md:text-left md:py-2",children:r})]}),t.button,!t.button&&(0,a.jsx)(n.A,{icon:s.hyP,color:"white",onClick:e=>{e.preventDefault(),c(!0)},small:!0,roundedFull:!0})]})})}},85597:(e,r,t)=>{"use strict";t.d(r,{default:()=>b});var a=t(45512),s=t(58009),l=t(65167),i=t(17656),n=t(15660),o=t(33883),d=t(95900),u=t(32856),c=t(66055);let h=e=>e.trim().split(/\s+/).filter(e=>e.length>0).length,b=()=>{let[e,r]=(0,s.useState)(""),[t,b]=(0,s.useState)(""),[g,x]=(0,s.useState)(1),[m,p]=(0,s.useState)("Sickness"),[v,w]=(0,s.useState)(""),[k,f]=(0,s.useState)(!1),[y,j]=(0,s.useState)(null),N=async a=>{if(a.preventDefault(),j(null),!e||!t||g<1||!m){j({type:"error",text:"Please fill out your name, start date, duration, and reason."});return}if(10>h(v)){j({type:"error",text:"Please provide at least 10 words in the details field."});return}f(!0);try{let a=(0,i.rJ)(l.db,"students"),s=(0,i.P)(a,(0,i._M)("fullName","==",e.trim()),(0,i.AB)(1)),n=await (0,i.GG)(s);if(n.empty){j({type:"error",text:`Student with name "${e.trim()}" not found. Please check spelling and capitalization.`}),f(!1);return}let o=n.docs[0],d=o.data(),u=new Date(t);u.setMinutes(u.getMinutes()+u.getTimezoneOffset());let c=new Date(u);c.setDate(u.getDate()+(g-1));let h=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}-${String(c.getDate()).padStart(2,"0")}`;await (0,i.gS)((0,i.rJ)(l.db,"permissions"),{studentId:o.id,studentName:d.fullName,class:d.class,shift:d.shift,permissionStartDate:t,permissionEndDate:h,reason:m,details:v,status:"pending",requestDate:(0,i.O5)()}),j({type:"success",text:"Your permission request has been submitted successfully! It is now pending review."}),r(""),b(""),x(1),p("Sickness"),w("")}catch(e){console.error("Error submitting permission request:",e),j({type:"error",text:"An error occurred. Please try again."})}finally{f(!1)}};return(0,a.jsxs)("form",{onSubmit:N,className:"flex flex-col gap-6",children:[y&&(0,a.jsx)(c.A,{color:"success"===y.type?"success":"error"===y.type?"danger":"info",children:y.text}),(0,a.jsx)(n.A,{label:"Your Full Name (as registered)",help:"Please enter your full name exactly as it appears in school records.",labelFor:"fullName",children:t=>(0,a.jsx)("input",{type:"text",id:"fullName",value:e,onChange:e=>r(e.target.value),className:t.className,required:!0})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsx)(n.A,{label:"Permission Start Date",labelFor:"startDate",children:e=>(0,a.jsx)("input",{type:"date",id:"startDate",value:t,onChange:e=>b(e.target.value),className:e.className,required:!0})}),(0,a.jsx)(n.A,{label:"Duration (in days)",labelFor:"duration",children:e=>(0,a.jsx)("input",{type:"number",id:"duration",value:g,onChange:e=>x(Math.max(1,parseInt(e.target.value)||1)),className:e.className,min:"1",required:!0})})]}),(0,a.jsx)(n.A,{label:"Reason for Leave",labelFor:"reasonSelect",children:e=>(0,a.jsxs)("select",{id:"reasonSelect",value:m,onChange:e=>p(e.target.value),className:e.className,required:!0,children:[(0,a.jsx)("option",{value:"Sickness",children:"Sickness"}),(0,a.jsx)("option",{value:"Family Event",children:"Family Event"}),(0,a.jsx)("option",{value:"Vacation",children:"Vacation"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})}),(0,a.jsx)(n.A,{label:"Details",help:"Please provide at least 10 words explaining your request.",labelFor:"detailsText",children:e=>(0,a.jsx)("textarea",{id:"detailsText",value:v,onChange:e=>w(e.target.value),className:e.className,rows:4,required:!0})}),(0,a.jsx)(u.A,{}),(0,a.jsx)(d.A,{children:(0,a.jsx)(o.A,{type:"submit",color:"info",label:k?"Submitting...":"Submit Request",disabled:k})})]})}},3037:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var a=t(62740),s=t(76301),l=t.n(s);function i({noPadding:e=!1,className:r,children:t}){return(0,a.jsx)("div",{className:`flex-1 ${e?"":"p-2"} ${r}`,children:t})}function n({className:e,children:r}){return(0,a.jsx)("footer",{className:`p-6 ${e}`,children:r})}function o({rounded:e="rounded-2xl",flex:r="flex-col",className:t="",hasComponentLayout:s=!1,hasTable:o=!1,isHoverable:d=!1,isModal:u=!1,children:c,footer:h,onClick:b}){let g=["bg-white flex",t,e,r,u?"dark:bg-slate-900":"dark:bg-slate-900/70"];return d&&g.push("hover:shadow-lg transition-shadow duration-500"),l().createElement("div",{className:g.join(" "),onClick:b},s?c:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i,{noPadding:o,children:c}),h&&(0,a.jsx)(n,{children:h})]}))}},24681:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var a=t(62740);function s({path:e,w:r="w-6",h:t="h-6",size:s=null,className:l="",children:i}){let n=s??16;return(0,a.jsxs)("span",{className:`inline-flex justify-center items-center ${r} ${t} ${l}`,children:[(0,a.jsx)("svg",{viewBox:"0 0 24 24",width:n,height:n,className:"inline-block",children:(0,a.jsx)("path",{fill:"currentColor",d:e})}),i]})}t(76301)},64664:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(62740);t(76301);var s=t(8560);function l({children:e}){return(0,a.jsx)("section",{className:`bg-gray-100 dark:bg-gray-800 p-6 ${s.Fx}`,children:e})}},81607:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var a=t(62740);t(76301);var s=t(24681),l=t(32582);function i({icon:e,color:r,w:t="w-12",h:i="h-12",bg:n=!1,className:o=""}){let d=n?l.cu[r]:`${l.Wj[r]} bg-gray-50 dark:bg-slate-800`;return(0,a.jsx)(s.A,{path:e,w:t,h:i,size:"24",className:`rounded-full ${d} ${o}`})}function n({icon:e,title:r,main:t=!1,children:l}){return(0,a.jsxs)("section",{className:`${t?"":"pt-6"} mb-6 flex items-center justify-between`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-start",children:[e&&t&&(0,a.jsx)(i,{icon:e,color:"light",className:"mr-3",bg:!0}),e&&!t&&(0,a.jsx)(s.A,{path:e,className:"mr-2",size:"20"}),(0,a.jsx)("h1",{className:`leading-tight ${t?"text-3xl":"text-2xl"}`,children:r})]}),l]})}},32582:(e,r,t)=>{"use strict";t.d(r,{Wj:()=>s,cu:()=>a,sG:()=>l});let a={white:"bg-white text-black",light:"bg-white text-black dark:bg-slate-900/70 dark:text-white",contrast:"bg-gray-800 text-white dark:bg-white dark:text-black",success:"bg-emerald-500 border-emerald-500 text-white",danger:"bg-red-500 border-red-500 text-white",warning:"bg-yellow-500 border-yellow-500 text-white",info:"bg-blue-500 border-blue-500 text-white"},s={white:"text-black dark:text-slate-100",light:"text-gray-700 dark:text-slate-400",contrast:"dark:text-white",success:"text-emerald-500",danger:"text-red-500",warning:"text-yellow-500",info:"text-blue-500"};[s.white,"border-gray-100"].join(" "),[s.light,"border-gray-100"].join(" "),[s.contrast,"border-gray-900 dark:border-slate-100"].join(" "),[s.success,"border-emerald-500"].join(" "),[s.danger,"border-red-500"].join(" "),[s.warning,"border-yellow-500"].join(" "),[s.info,"border-blue-500"].join(" ");let l=(e,r,t,a=!1)=>{if("void"===e)return"";let s={ring:{white:"ring-gray-200 dark:ring-gray-500",whiteDark:"ring-gray-200 dark:ring-gray-500",lightDark:"ring-gray-200 dark:ring-gray-500",contrast:"ring-gray-300 dark:ring-gray-400",success:"ring-emerald-300 dark:ring-emerald-700",danger:"ring-red-300 dark:ring-red-700",warning:"ring-yellow-300 dark:ring-yellow-700",info:"ring-blue-300 dark:ring-blue-700"},active:{white:"bg-gray-100",whiteDark:"bg-gray-100 dark:bg-slate-800",lightDark:"bg-gray-200 dark:bg-slate-700",contrast:"bg-gray-700 dark:bg-slate-100",success:"bg-emerald-700 dark:bg-emerald-600",danger:"bg-red-700 dark:bg-red-600",warning:"bg-yellow-700 dark:bg-yellow-600",info:"bg-blue-700 dark:bg-blue-600"},bg:{white:"bg-white text-black",whiteDark:"bg-white text-black dark:bg-slate-900 dark:text-white",lightDark:"bg-gray-100 text-black dark:bg-slate-800 dark:text-white",contrast:"bg-gray-800 text-white dark:bg-white dark:text-black",success:"bg-emerald-600 dark:bg-emerald-500 text-white",danger:"bg-red-600 dark:bg-red-500 text-white",warning:"bg-yellow-600 dark:bg-yellow-500 text-white",info:"bg-blue-600 dark:bg-blue-500 text-white"},bgHover:{white:"hover:bg-gray-100",whiteDark:"hover:bg-gray-100 dark:hover:bg-slate-800",lightDark:"hover:bg-gray-200 dark:hover:bg-slate-700",contrast:"hover:bg-gray-700 dark:hover:bg-slate-100",success:"hover:bg-emerald-700 hover:border-emerald-700 dark:hover:bg-emerald-600 dark:hover:border-emerald-600",danger:"hover:bg-red-700 hover:border-red-700 dark:hover:bg-red-600 dark:hover:border-red-600",warning:"hover:bg-yellow-700 hover:border-yellow-700 dark:hover:bg-yellow-600 dark:hover:border-yellow-600",info:"hover:bg-blue-700 hover:border-blue-700 dark:hover:bg-blue-600 dark:hover:border-blue-600"},borders:{white:"border-white",whiteDark:"border-white dark:border-slate-900",lightDark:"border-gray-100 dark:border-slate-800",contrast:"border-gray-800 dark:border-white",success:"border-emerald-600 dark:border-emerald-500",danger:"border-red-600 dark:border-red-500",warning:"border-yellow-600 dark:border-yellow-500",info:"border-blue-600 dark:border-blue-500"},text:{contrast:"dark:text-slate-100",success:"text-emerald-600 dark:text-emerald-500",danger:"text-red-600 dark:text-red-500",warning:"text-yellow-600 dark:text-yellow-500",info:"text-blue-600 dark:text-blue-500"},outlineHover:{contrast:"hover:bg-gray-800 hover:text-gray-100 dark:hover:bg-slate-100 dark:hover:text-black",success:"hover:bg-emerald-600 hover:text-white hover:text-white dark:hover:text-white dark:hover:border-emerald-600",danger:"hover:bg-red-600 hover:text-white hover:text-white dark:hover:text-white dark:hover:border-red-600",warning:"hover:bg-yellow-600 hover:text-white hover:text-white dark:hover:text-white dark:hover:border-yellow-600",info:"hover:bg-blue-600 hover:text-white dark:hover:text-white dark:hover:border-blue-600"}},l=r&&0>["white","whiteDark","lightDark"].indexOf(e),i=[s.borders[e],s.ring[e]];return a?i.push(s.active[e]):i.push(l?s.text[e]:s.bg[e]),t&&i.push(l?s.outlineHover[e]:s.bgHover[e]),i.join(" ")}},8560:(e,r,t)=>{"use strict";t.d(r,{Fx:()=>a,wS:()=>s});let a="xl:max-w-6xl xl:mx-auto",s=e=>`${e} â€” Rodwell Attendance`},19817:(e,r,t)=>{"use strict";t.d(r,{default:()=>a});let a=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jimmy/datta-able-free-react-admin-template/student-attendance-app/app/request-permission/_components/PermissionRequestForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jimmy/datta-able-free-react-admin-template/student-attendance-app/app/request-permission/_components/PermissionRequestForm.tsx","default")},98384:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var a=t(62740),s=t(64664),l=t(3037),i=t(81607),n=t(19817),o=t(94565);function d(){return(0,a.jsx)(s.A,{children:(0,a.jsxs)(l.A,{className:"max-w-2xl mx-auto",children:[(0,a.jsx)(i.A,{icon:o.Esf,title:"Permission Request Form",main:!0}),(0,a.jsx)(n.default,{})]})})}}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[750,790,113,565,206],()=>t(77961));module.exports=a})();